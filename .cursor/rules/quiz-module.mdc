---
description:
globs:
alwaysApply: false
---
# Quiz Modülü Kılavuzu

Bu projede kapsamlı bir quiz modülü bulunmaktadır. Aşağıda bu modülün yapısı ve kullanımı hakkında bilgiler yer almaktadır.

## Quiz Modülü Yapısı

Quiz modülü aşağıdaki alt bileşenlerden oluşmaktadır:

- **Kategoriler**: Quiz kategorileri
- **Sorular**: Her kategoriye ait sorular
- **Sonuçlar**: Kullanıcı quiz sonuçları
- **Kullanıcılar**: Quiz katılımcıları

## Rotalar ve Bileşenler

Quiz modülü şu rotalara sahiptir:

- `/quiz/categories`: Tüm quiz kategorileri
- `/quiz/categories/[id]`: Belirli bir kategori detayı
- `/quiz/categories/new`: Yeni kategori oluşturma
- `/quiz/questions/[id]`: Soru detayı
- `/quiz/questions/new`: Yeni soru oluşturma
- `/quiz/results/[id]`: Sonuç detayı
- `/quiz/results/new`: Yeni sonuç oluşturma
- `/quiz/results/[id]/stats`: Sonuç istatistikleri
- `/quiz/users/[id]`: Kullanıcı detayı

## API Endpoint'leri

Quiz modülü için aşağıdaki API endpoint'leri mevcuttur:

- `GET /api/quiz/categories`: Tüm kategorileri listeler
- `POST /api/quiz/categories`: Yeni kategori oluşturur
- `GET /api/quiz/categories/[id]`: Belirli bir kategoriyi getirir
- `PUT /api/quiz/categories/[id]`: Kategori günceller
- `DELETE /api/quiz/categories/[id]`: Kategori siler
- `GET /api/quiz/questions/[id]`: Belirli bir soruyu getirir
- `GET /api/quiz/results/[id]`: Sonuç detayını getirir

## Veritabanı Modelleri

Quiz modülü aşağıdaki Prisma modellerini kullanmaktadır:

```typescript
// prisma/schema.prisma'dan alıntı
model QuizCategory {
  id          Int                  @id @default(autoincrement())
  name        String
  slug        String               @unique
  description String?
  imageUrl    String?
  createdAt   DateTime             @default(now())
  updatedAt   DateTime             @updatedAt
  questions   QuizQuestion[]
  results     QuizResult[]
  templates   QuizResultTemplate[]
}

model QuizQuestion {
  id          Int              @id @default(autoincrement())
  question    String
  categoryId  Int
  order       Int              @default(0)
  imageUrl    String?
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  explanation String?
  options     QuizOption[]
  category    QuizCategory     @relation(fields: [categoryId], references: [id])
  userAnswers QuizUserAnswer[]
}

// Diğer ilgili modeller...
```

## Quiz İşlevleri

Quiz'ler şu temel işlevlere sahiptir:

1. **Kategori Yönetimi**: Kategorileri oluşturma, düzenleme, silme
2. **Soru Yönetimi**: Sorular oluşturma, düzenleme, kategorilere atama
3. **Sonuç Şablonları**: Sonuç aralıklarına göre farklı içerikler gösterme
4. **Kullanıcı Takibi**: Quiz'e katılan kullanıcıları izleme
5. **İstatistikler**: Quiz sonuçları üzerinde analitik veriler
